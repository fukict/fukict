# ğŸš€ Vanilla DOM

ä¸€ä¸ªä¸“ä¸ºç°ä»£Webåº”ç”¨è®¾è®¡çš„é«˜æ€§èƒ½å®¢æˆ·ç«¯æ¸²æŸ“åº“ï¼Œé€šè¿‡ç¼–è¯‘æ—¶ä¼˜åŒ–å’Œç»„ä»¶åŒ–æ¶æ„ï¼Œæä¾›æ¥è¿‘åŸç”ŸDOMæ“ä½œæ€§èƒ½çš„å¼€å‘ä½“éªŒã€‚

## ğŸ¯ é¡¹ç›®å®—æ—¨

Vanilla DOM ä¸“æ³¨äºä¸ºç°ä»£Webåº”ç”¨æä¾›é«˜æ€§èƒ½çš„å®¢æˆ·ç«¯æ¸²æŸ“è§£å†³æ–¹æ¡ˆï¼š

### ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿

- **é«˜æ€§èƒ½**: ç¼–è¯‘æ—¶ä¼˜åŒ– + ç²¾ç¡®DOMæ›´æ–°ï¼Œæ¥è¿‘æ‰‹å†™åŸç”Ÿä»£ç æ€§èƒ½
- **è½»é‡çº§**: æ ¸å¿ƒè¿è¡Œæ—¶ < 10KBï¼ŒæŒ‰éœ€åŠ è½½å¢å¼ºåŠŸèƒ½
- **æ¸è¿›å¼**: ä»åŸºç¡€JSXæ”¯æŒåˆ°å®Œæ•´ç»„ä»¶ç¼–ç èŒƒå¼ï¼Œçµæ´»é€‰æ‹©
- **ç±»å‹å®‰å…¨**: å®Œæ•´TypeScriptæ”¯æŒï¼Œä¼˜ç§€çš„å¼€å‘ä½“éªŒ

### ğŸ—ï¸ æ¶æ„å›¾

```
                  Vanilla DOM åˆ†å±‚æ¶æ„
                         
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              å¢å¼ºå±‚(å¼€å‘ä½“éªŒ)                 â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  @vanilla-dom/  â”‚  â”‚  @vanilla-dom/  â”‚   â”‚
    â”‚  â”‚     widget      â”‚  â”‚ babel-preset-   â”‚   â”‚
    â”‚  â”‚  (ç»„ä»¶ç¼–ç èŒƒå¼)   â”‚  â”‚    widget       â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 â”‚             â”‚             â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚  â”‚  @vanilla-dom/  â”‚  â”‚  @vanilla-dom/  â”‚   â”‚
    â”‚  â”‚      core       â”‚  â”‚  babel-plugin   â”‚   â”‚
    â”‚  â”‚   (æ¸²æŸ“å¼•æ“)     â”‚  â”‚   (JSXç¼–è¯‘)      â”‚   â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚              åŸºç¡€å±‚ (æ ¸å¿ƒåŠŸèƒ½)                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ä½¿ç”¨è·¯å¾„:
    è·¯å¾„1: åŸºç¡€å±‚ç‹¬ç«‹ä½¿ç”¨ â†’ core + babel-plugin
    è·¯å¾„2: å®Œæ•´å¼€å‘ä½“éªŒ   â†’ widget + babel-preset-widget
```

### ğŸ”§ æ¶æ„ç‰¹è‰²

- **åˆ†å±‚è®¾è®¡**: åŸºç¡€å±‚(core+babel-plugin) + å¢å¼ºå±‚(widget+preset)
- **ç¼–è¯‘æ—¶ä¼˜åŒ–**: é™æ€åˆ†æã€æ¨¡æ¿æå–ã€é›¶é…ç½®ç»„ä»¶è¯†åˆ«
- **çº¯å®¢æˆ·ç«¯**: ä¸“ä¸ºæµè§ˆå™¨ç¯å¢ƒä¼˜åŒ–ï¼Œæ— æœåŠ¡ç«¯åŒ…è¢±
- **å¯æ‰©å±•**: æ”¯æŒç¬¬ä¸‰æ–¹ç»„ä»¶ç¼–ç èŒƒå¼åº“æ‰©å±•

## ğŸ“¦ æ ¸å¿ƒåŒ…

| åŒ…å | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| [`@vanilla-dom/core`](./packages/core) | æ ¸å¿ƒæ¸²æŸ“å¼•æ“å’ŒDOMå·¥å…·é›† | âœ… |
| [`@vanilla-dom/babel-plugin`](./packages/babel-plugin) | JSXç¼–è¯‘æ’ä»¶ | âœ… |
| [`@vanilla-dom/widget`](./packages/widget) | ç»„ä»¶å¼€å‘ç¼–ç èŒƒå¼ | âœ… |
| [`@vanilla-dom/babel-preset-widget`](./packages/babel-preset-widget) | Widgetå¼€å‘é¢„è®¾ | âœ… |

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å®‰è£…æ ¸å¿ƒåŒ…
pnpm install @vanilla-dom/core

# æˆ–å®‰è£…å®Œæ•´Widgetå¼€å‘å¥—ä»¶
pnpm install @vanilla-dom/widget @vanilla-dom/babel-preset-widget
```

```tsx
import { render } from '@vanilla-dom/core';

// ç®€å•åº”ç”¨
const app = <div>Hello Vanilla DOM!</div>;
render(app, { container: document.getElementById('root')! });
```

## ğŸ® æ¼”ç¤ºé¡¹ç›®

- [`basic-demo`](./demos/basic-demo/) - æ— éœ€ç¼–è¯‘çš„åŸºç¡€æ¼”ç¤º
- [`webpack-demo`](./demos/webpack-demo/) - Webpacké›†æˆæ¼”ç¤º  
- [`vite-demo`](./demos/vite-demo/) - Viteå¼€å‘ç¯å¢ƒæ¼”ç¤º

## ğŸ—ï¸ è¯¦ç»†æ¶æ„

### åŸºç¡€å±‚ (å¯ç‹¬ç«‹ä½¿ç”¨)

#### `@vanilla-dom/core` - æ ¸å¿ƒæ¸²æŸ“å¼•æ“
- **èŒè´£**: VNode è½¬æ¢ã€DOM æ“ä½œã€ç±»å‹æ”¯æŒ
- **ç‰¹ç‚¹**: è½»é‡çº§ã€é«˜æ€§èƒ½ã€çº¯å®¢æˆ·ç«¯ä¸“æ³¨
- **ä½¿ç”¨åœºæ™¯**: éœ€è¦æœ€å°è¿è¡Œæ—¶å¼€é”€ã€æ‰‹åŠ¨æ§åˆ¶æ¸²æŸ“é€»è¾‘

#### `@vanilla-dom/babel-plugin` - JSX ç¼–è¯‘æ’ä»¶  
- **èŒè´£**: JSX è½¬æ¢ã€ç¼–è¯‘æ—¶ä¼˜åŒ–ã€ç»„ä»¶æ ‡å¿—æ£€æµ‹
- **ç‰¹ç‚¹**: é™æ€åˆ†æã€é›¶é…ç½®ç»„ä»¶è¯†åˆ«
- **ä½¿ç”¨åœºæ™¯**: éœ€è¦ JSX è¯­æ³•æ”¯æŒçš„é¡¹ç›®

### å¢å¼ºå±‚ (æå‡å¼€å‘ä½“éªŒ)

#### `@vanilla-dom/widget` - ç»„ä»¶ç¼–ç èŒƒå¼
- **èŒè´£**: æä¾› Widget ç±»å’Œ createWidget å‡½æ•°
- **ç‰¹ç‚¹**: ç»“æ„åŒ–ç»„ä»¶å¼€å‘ã€åˆ†å±‚æ¶æ„æ”¯æŒ
- **ä½¿ç”¨åœºæ™¯**: å¤æ‚åº”ç”¨ã€å›¢é˜Ÿå¼€å‘ã€éœ€è¦ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†

#### `@vanilla-dom/babel-preset-widget` - é›¶é…ç½®é¢„è®¾
- **èŒè´£**: é¢„é…ç½®å¼€å‘ç¯å¢ƒã€å¼€ç®±å³ç”¨ä½“éªŒ
- **ç‰¹ç‚¹**: è‡ªåŠ¨ç»„ä»¶æ³¨å†Œã€å®Œæ•´æ„å»ºé…ç½®
- **ä½¿ç”¨åœºæ™¯**: Widget ç¼–ç èŒƒå¼é¡¹ç›®çš„å¿«é€Ÿå¯åŠ¨

## ğŸ“¦ åŒ…ä¾èµ–å…³ç³»

```
@vanilla-dom/babel-preset-widget
â”œâ”€â”€ @vanilla-dom/babel-plugin
â””â”€â”€ @vanilla-dom/core

@vanilla-dom/widget
â””â”€â”€ @vanilla-dom/core

@vanilla-dom/babel-plugin
â””â”€â”€ @vanilla-dom/core (peer dependency)
```

## ğŸ”§ æŠ€æœ¯ç‰¹ç‚¹

### ç¼–è¯‘æ—¶ + è¿è¡Œæ—¶åˆ†ç¦»
- **ç¼–è¯‘æ—¶**: babel-plugin å¤„ç† JSX è½¬æ¢å’Œé™æ€ä¼˜åŒ–
- **è¿è¡Œæ—¶**: core ä¸“æ³¨ DOM æ“ä½œå’Œæ¸²æŸ“æ€§èƒ½

### æ¸è¿›å¼å¢å¼º
- **æ ¸å¿ƒåŠŸèƒ½**: core + babel-plugin æä¾›åŸºæœ¬ JSX æ”¯æŒ
- **å¼€å‘ä½“éªŒ**: widget + preset æä¾›å®Œæ•´å¼€å‘ç¯å¢ƒ

### çº¯å®¢æˆ·ç«¯è®¾è®¡
- ä¸“ä¸ºæµè§ˆå™¨ç¯å¢ƒä¼˜åŒ–
- æ— æœåŠ¡ç«¯æ¸²æŸ“åŒ…è¢±
- æ¥è¿‘åŸç”Ÿ DOM æ“ä½œæ€§èƒ½

## ğŸ“š æ–‡æ¡£

- [ç»„ä»¶å¼€å‘æŒ‡å—](./packages/widget/ARCHITECTURE_GUIDE.md) - å¤æ‚ç»„ä»¶çš„åˆ†å±‚æ¶æ„æ¨¡å¼
- [Core åŒ…ä½¿ç”¨è¯´æ˜](./packages/core/README.md) - åŸºç¡€æ¸²æŸ“å¼•æ“
- [Babel Plugin é…ç½®](./packages/babel-plugin/README.md) - JSX ç¼–è¯‘æ’ä»¶
- [Widget ç¼–ç èŒƒå¼](./packages/widget/README.md) - ç»„ä»¶å¼€å‘æ¨¡å¼
- [Preset å¿«é€Ÿå¼€å§‹](./packages/babel-preset-widget/README.md) - é›¶é…ç½®ä½¿ç”¨

## ğŸ›£ï¸ å‘å±•è·¯çº¿

æŸ¥çœ‹ [TODOLIST.md](./TODOLIST.md) äº†è§£é¡¹ç›®åç»­å‘å±•è®¡åˆ’ã€‚

## ğŸ¤ å‚ä¸è´¡çŒ®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/vanilla-dom/vanilla-dom
cd vanilla-dom

# å®‰è£…ä¾èµ–ï¼ˆæ¨èä½¿ç”¨ pnpmï¼Œæ›´å¿«çš„å®‰è£…é€Ÿåº¦ï¼‰
pnpm install

# å¼€å‘æ¨¡å¼
pnpm run dev

# æ„å»ºé¡¹ç›®
pnpm run build
```

## ğŸ“„ è®¸å¯è¯

[MIT](LICENSE) Â© 2025

---

**è®©Webå¼€å‘å›å½’ç®€å•é«˜æ•ˆ** âš¡
