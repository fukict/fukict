---
description: æ•´ä½“é¡¹ç›®å¼€å‘æ¦‚è§ˆ
globs: 
alwaysApply: true
---
# Fukict å¼€å‘æŒ‡å—

## ğŸ“¦ æ ¸å¿ƒæ¶æ„
- `@fukict/runtime` - æ¸²æŸ“å¼•æ“ < 10KB
- `@fukict/babel-plugin` - JSX ç¼–è¯‘ä¼˜åŒ–  
- `@fukict/widget` - ç»„ä»¶ç¼–ç èŒƒå¼
- `@fukict/babel-preset-widget` - é›¶é…ç½®

## ğŸ—ï¸ Monorepo ç»“æ„
```
packages/{name}/
â”œâ”€â”€ src/index.ts        # ä¸»å¯¼å‡º
â”œâ”€â”€ tests/*.test.ts     # æµ‹è¯•
â”œâ”€â”€ package.json        # åŒ…é…ç½®
â””â”€â”€ vitest.config.ts    # æµ‹è¯•

demos/{name}/
â”œâ”€â”€ src/               # æ¼”ç¤ºæºç 
â”œâ”€â”€ vite.config.ts     # æ„å»ºé…ç½®
â””â”€â”€ .babelrc.js        # Babel é…ç½®
```

## ğŸ”§ æ ‡å‡†é…ç½®

### package.json æ ¸å¿ƒå­—æ®µ
```json
{
  "name": "@fukict/{name}",
  "main": "./dist/index.js",
  "module": "./dist/index.mjs", 
  "types": "./dist/index.d.ts",
  "scripts": {
    "test": "vitest"
  }
}
```
## ğŸ¯ Widget å¼€å‘
```tsx
// ç±»ç»„ä»¶
class MyWidget extends Widget<Props> {
  render() { return <div>{this.props.title}</div> }
}

// å‡½æ•°ç»„ä»¶  
const MyWidget = createWidget<Props>(({ title }) => 
  <div>{title}</div>
)
```

## ğŸ› ï¸ å¼€å‘è§„èŒƒ
- **å·¥å…·é“¾**: pnpm + Vitest
- **ç±»å‹**: 100% TypeScript è¦†ç›–
- **æ€§èƒ½**: DOM ç²¾ç¡®æ“ä½œï¼Œè‡ªåŠ¨æ¸…ç†
- **æµ‹è¯•**: jsdom ç¯å¢ƒï¼Œå…¨è¦†ç›–

## ğŸš¨ å…³é”®é˜²æŠ¤
- **ç›®å½•ç¡®è®¤**: `pwd` æ£€æŸ¥ï¼Œ`packages/{name}/` éæ ¹
- **Vite é…ç½®**: `esbuild: false`ï¼Œbabel æ¥ç®¡ JSX
- **å‘å¸ƒæµç¨‹**: `pnpm release` ç»Ÿä¸€å‘å¸ƒ
- **ä¾èµ–ç®¡ç†**: å¼ºåˆ¶ä½¿ç”¨ pnpm

## âš¡ æ€§èƒ½åŸåˆ™
- ç¼–è¯‘æ—¶ä¼˜åŒ– > è¿è¡Œæ—¶å¼€é”€
- Tree Shaking æ”¯æŒ
- Bundle å¤§å°ç›‘æ§ < 10KB
- ç²¾ç¡® DOM æ“ä½œ
- è‡ªåŠ¨å†…å­˜æ¸…ç†

## ğŸ“ ç›®å½•è·¯å¾„è§„èŒƒ

### é‡è¦ï¼šå·¥ä½œç›®å½•è¯†åˆ«
- **æ ¹ç›®å½•**ï¼š`./` (é¡¹ç›®æ ¹ç›®å½•)
- **åŒ…ç›®å½•**ï¼š`./packages/{name}/`
- **æ¼”ç¤ºç›®å½•**ï¼š`./demos/{name}/`

### ç¼–è¾‘æ–‡ä»¶æ—¶å¿…é¡»ç¡®è®¤
1. ä½¿ç”¨ `pwd` ç¡®è®¤å½“å‰ç›®å½•
2. ç¡®è®¤æ˜¯åœ¨æ­£ç¡®çš„åŒ…ç›®å½•ä¸‹æ“ä½œ
3. ä¸è¦åœ¨æ ¹ç›®å½•ç¼–è¾‘åŒ…æ–‡ä»¶
4. ä¸è¦åœ¨åŒ…ç›®å½•ç¼–è¾‘æ ¹ç›®å½•æ–‡ä»¶
