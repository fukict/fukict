---
description: 
globs: 
alwaysApply: true
---
---
description: Babel 插件开发指南 - JSX 转换与编译时优化
globs: ['packages/babel-plugin/**/*']
---

# Babel 插件 (@vanilla-dom/babel-plugin)

## 核心文件
- `src/index.ts` - 插件入口
- `src/plugin.ts` - AST 转换逻辑
- `src/utils.ts` - JSX 处理工具
- `src/types.ts` - 类型定义

## 功能
- JSX → 优化节点树转换
- 编译时静态分析
- 事件处理器优化
- TypeScript 兼容输出

## 转换示例
```jsx
<div class="container" onClick={handler}>
  <span>{text}</span>
</div>
```
↓
```javascript
{
  type: "div",
  props: { class: "container", onClick: handler },
  children: [{ type: "span", children: [{ type: "text", value: text }] }]
}
```

## 开发要点
- 编译时优化 > 运行时开销
- 处理所有 JSX 语法模式
- 片段、数组、动态属性边界情况

